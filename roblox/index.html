<!DOCTYPE html>
<html>
  <head>
    <title>Roblox Leaderboard</title>
  </head>
  <body>
    <h1>Leaderboard Roblox</h1>
    <div id="leaderboard"></div>

    <script>
      async function fetchPlayers() {
        try {
          const res = await fetch("http://localhost:3000/api/players");
          const data = await res.json();
          const list = document.getElementById("player-list");
          list.innerHTML = "";

          if (data.length === 0) {
            list.innerHTML = "<li>Aucun joueur connect√©</li>";
            return;
          }

          data.forEach((player) => {
            const li = document.createElement("li");
            li.textContent = `üë§ ${player.username} (ID: ${player.userId})`;
            list.appendChild(li);
          });
        } catch (err) {
          document.getElementById("player-list").innerHTML = "<li>‚ùå Erreur de chargement</li>";
          console.error(err);
        }
      }

      fetchPlayers();
      setInterval(fetchPlayers, 5000);
    </script>
  </body>
</html>
